# Changelog - Bulle Sensorielle

Tous les changements notables de ce projet seront document√©s dans ce fichier.

Le format est bas√© sur [Keep a Changelog](https://keepachangelog.com/fr/1.0.0/),
et ce projet adh√®re au [Versioning S√©mantique](https://semver.org/spec/v2.0.0.html).

## [2.8.4] - 2024-12-25

### üé® Corrections Visuelles - Section Effets Visuels
- **Probl√®me r√©solu** : Deux probl√®mes d'affichage dans la section visuels
  1. **Mode plein √©cran** : L'effet ne s'√©tendait pas √† tout l'√©cran
  2. **Mode normal** : Padding excessif autour du canvas des effets visuels

- **Solutions impl√©ment√©es** :
  - **Redimensionnement intelligent du canvas** : Modification de `resizeCanvas()` dans `script.js`
    - D√©tection automatique du mode plein √©cran
    - Utilisation des dimensions compl√®tes de la fen√™tre en mode plein √©cran
    - R√©duction du padding de 40px √† 20px en mode normal
  - **Optimisation CSS** : Mise √† jour des styles dans tous les fichiers CSS
    - Padding r√©duit √† 10px en mode normal (8px sur mobile)
    - Padding supprim√© compl√®tement en mode plein √©cran
    - Coh√©rence entre tous les breakpoints responsifs

### üìÅ Fichiers Modifi√©s
- `script.js` : Am√©lioration de la fonction `resizeCanvas()` avec gestion du plein √©cran
- `css/modules/_sections.css` : Optimisation du padding du conteneur visuel
- `css/modules/_responsive.css` : Mise √† jour des styles responsifs
- `styles.css` : Coh√©rence des styles de plein √©cran
- `changelog.md` : Documentation des corrections

### üéØ R√©sultat
- **Plein √©cran optimal** : Les effets visuels utilisent maintenant toute la surface de l'√©cran
- **Espace mieux utilis√©** : R√©duction significative du padding en mode normal
- **Exp√©rience immersive** : Affichage plus engageant des effets visuels
- **Responsive am√©lior√©** : Comportement coh√©rent sur tous les appareils

---

## [2.8.3] - 2024-12-25

### üéµ Correction Critique de la Pause Globale pour Piano et Lo-Fi
- **Probl√®me r√©solu** : La pause globale ne fonctionnait pas correctement avec les sons "Piano Doux" et "Lo-Fi Calme"
- **Cause identifi√©e** : Ces sons utilisent des objets `Tone.Pattern` qui n√©cessitent une gestion sp√©cifique
- **Solution impl√©ment√©e** : Ajout de la gestion des patterns de m√©lodie dans les fonctions de contr√¥le audio
  - `pauseSound()` : D√©tection et pause des patterns piano/lofi via `melodyPatterns[soundId].stop()`
  - `resumeSound()` : Reprise des patterns piano/lofi via `melodyPatterns[soundId].start()`
  - `startSound()` : D√©marrage correct des patterns lors de l'activation
  - `stopSound()` : Arr√™t complet des patterns lors de la d√©sactivation

### üìÅ Fichiers Modifi√©s
- `script.js` : Mise √† jour des fonctions `pauseSound`, `resumeSound`, `startSound`, `stopSound`
- `changelog.md` : Documentation de la correction

### üéØ R√©sultat
- **Pause globale fonctionnelle** : Tous les types de sons (HTML5, Tone.js, Patterns) sont correctement g√©r√©s
- **Contr√¥le unifi√©** : Piano et Lo-Fi r√©pondent maintenant aux commandes de pause/reprise globales
- **Exp√©rience utilisateur am√©lior√©e** : Comportement coh√©rent pour tous les sons de l'application

---

## [2.8.2] - 2024-12-25

### üîß Correction Critique du Modal d'Information
- **Probl√®me r√©solu** : Modal d'information qui s'affichait en permanence sur la page d'accueil
- **Styles ajout√©s** : Restauration compl√®te des styles de modal manquants
  - `.info-modal` : Style de base avec `display: none` par d√©faut
  - `.info-modal-content`, `.info-modal-header`, `.info-modal-close`, `.info-modal-body`
  - Positionnement fixe, arri√®re-plan semi-transparent, z-index appropri√©
- **Animation ajout√©e** : `@keyframes slideUp` pour l'animation d'ouverture du modal
- **Comportement restaur√©** : Modal cach√© par d√©faut, visible uniquement au clic sur la bulle d'info

### üìÅ Fichiers Modifi√©s
- `css/modules/_components.css` : Ajout des styles de modal complets
- `css/modules/_animations.css` : Ajout de l'animation slideUp
- `changelog.md` : Documentation de la correction

### üéØ R√©sultat
- **Mise en page corrig√©e** : Contenu de la page d'accueil non plus d√©cal√©
- **Modal fonctionnel** : Affichage correct uniquement lors de l'interaction
- **UX restaur√©e** : Comportement conforme √† la version originale

---

## [2.8.1] - 2024-12-25

### üêõ Correction des Styles Manquants
- **Composants UI restaur√©s** : Ajout des styles critiques manquants dans la structure modulaire
  - `.theme-toggle` : Bouton de changement de th√®me avec positionnement fixe et animations
  - `.info-bubble` : Bouton d'information avec animation gentle-pulse
  - `.mascot` et `.mascot-message` : Syst√®me de mascotte avec messages interactifs
  - `.global-pause-btn` : Bouton de pause globale avec animations float
- **Animation ajout√©e** : `@keyframes gentle-pulse` dans `_animations.css`
- **Coh√©rence visuelle** : Restauration compl√®te de l'apparence originale

### üìÅ Fichiers Modifi√©s
- `css/modules/_components.css` : Ajout des 4 composants manquants
- `css/modules/_animations.css` : Ajout de l'animation gentle-pulse
- `changelog.md` : Documentation des corrections

### üéØ R√©sultat
- **Interface compl√®te** : Tous les √©l√©ments UI sont maintenant correctement styl√©s
- **Fonctionnalit√©s pr√©serv√©es** : Boutons de contr√¥le, mascotte et th√®me fonctionnels
- **Architecture maintenue** : Corrections int√©gr√©es dans la structure modulaire ITCSS

---

## [2.8.0] - 2024-12-19

### ‚ú® Modularisation CSS Compl√®te
- **Architecture CSS refactoris√©e** : Division du fichier `styles.css` (2681 lignes) en 9 modules sp√©cialis√©s
- **Structure modulaire** : Cr√©ation du dossier `css/modules/` avec organisation ITCSS (Inverted Triangle CSS)
- **Modules cr√©√©s** :
  - `_variables.css` : Variables CSS et design tokens
  - `_base.css` : Reset, typographie et styles fondamentaux
  - `_layout.css` : Grilles, conteneurs et layouts structurels
  - `_navigation.css` : Composants de navigation
  - `_components.css` : Composants UI r√©utilisables
  - `_sections.css` : Sections sp√©cifiques aux pages
  - `_animations.css` : Keyframes, transitions et animations
  - `_responsive.css` : Media queries et ajustements responsifs
  - `_utilities.css` : Classes utilitaires et helpers

### üîß Am√©liorations Techniques
- **Fichier principal** : `css/main.css` importe tous les modules dans l'ordre correct
- **Cascade CSS optimis√©e** : Ordre d'import respectant la sp√©cificit√© croissante
- **Maintenabilit√©** : Code CSS organis√© par responsabilit√© et r√©utilisabilit√©
- **Performance** : Structure modulaire permettant le lazy loading futur

### üìÅ Fichiers Modifi√©s
- `index.html` : Mise √† jour du lien CSS vers `css/main.css`
- `css/main.css` : Point d'entr√©e principal avec imports modulaires
- Cr√©ation de 9 nouveaux modules CSS dans `css/modules/`
- `changelog.md` : Documentation de la refactorisation

### üéØ B√©n√©fices
- **D√©veloppement** : √âdition cibl√©e par fonctionnalit√©
- **D√©bogage** : Isolation des styles par module
- **Collaboration** : Travail parall√®le sur diff√©rents modules
- **√âvolutivit√©** : Ajout facile de nouveaux composants

---

## [2.7.5] - 2024-12-19

### üö® Correction Critique - Positionnement des Bulles
- **Position CSS corrig√©e** : Changement de `position: relative` vers `position: fixed` dans `.encouragement-bubble`
- **Logique JavaScript adapt√©e** : Suppression des calculs de scroll, utilisation des coordonn√©es viewport directes
- **Positionnement pr√©cis** : La bulle se positionne maintenant correctement par rapport √† la fen√™tre visible

### üîß Am√©liorations Techniques
- **Coordonn√©es viewport** : Utilisation de `getBoundingClientRect()` sans ajustements de scroll
- **Centrage parfait** : Calcul pr√©cis du centre horizontal de la carte
- **Contraintes renforc√©es** : Marges de s√©curit√© pour √©viter tout d√©bordement

### üìÅ Fichiers Modifi√©s
- `styles.css` : Correction de `position: relative` vers `position: fixed`
- `js/tips.js` : Refactorisation compl√®te de la m√©thode `positionBubble()`
- `changelog.md` : Documentation de la correction d√©finitive

---

## [2.7.4] - 2024-12-19

### Ajout√©
- Section d'intensit√© interm√©diaire dans le module "Comment te sens-tu ?"
- S√©lection de 5 niveaux d'intensit√© avec ic√¥nes et descriptions adapt√©es √† chaque √©motion
- Navigation fluide : √âmotions ‚Üí Intensit√© ‚Üí Besoins ‚Üí Activit√©s
- Cartes d'intensit√© avec design responsive et animations de transition
- Gestion d'√©tat pour le suivi de l'intensit√© s√©lectionn√©e

### Modifi√©
- Flux de navigation dans la section des conseils √©motionnels
- Bouton de retour de la section "Besoins" pointe maintenant vers "Intensit√©"
- Synchronisation des versions dans tous les fichiers du projet

### Corrig√©
- **Bug critique** : Ajout de la m√©thode manquante `notifyObservers()` dans la classe `FeelingsState`
- Erreur "this.notifyObservers is not a function" qui emp√™chait la navigation vers l'intensit√©

### Technique
- Ajout de la classe CSS `.intensity-section` et `.intensity-card`
- Extension de la classe `FeelingsState` avec `selectedIntensity`
- Nouvelles m√©thodes `showIntensity()` et `selectIntensity()` dans `FeelingsManager`
- Structure de donn√©es `intensityData` pour chaque √©motion
- Impl√©mentation compl√®te du pattern Observer dans `FeelingsState`

## Version 2.2.1 - Corrections Audio et Interactions (2024-12-25)

### üêõ Corrections de Bugs
- **Contr√¥les de volume individuels** : Correction du syst√®me de volume pour chaque son
- **Affichage du volume** : Les sliders de volume mettent maintenant √† jour correctement l'affichage en pourcentage
- **Mapping des sons** : Correction des correspondances entre les boutons HTML et les fichiers audio
  - `campagne` ‚Üí `./sons/campagne.mp3`
  - `feu` ‚Üí `./sons/feu.mp3`
  - `chat` ‚Üí `./sons/chat.mp3`
  - `berceuse` ‚Üí `./sons/berceuse.mp3`
  - `ballade` ‚Üí `./sons/ballade.mp3`
- **Cartes d'√©motion cliquables** : Ajout des propri√©t√©s CSS manquantes (`cursor: pointer`, `user-select: none`)
- **Debugging am√©lior√©** : Ajout de logs pour diagnostiquer les probl√®mes d'interaction

### üîß Am√©liorations Techniques
- **Gestion du volume individuel** : Chaque son peut maintenant avoir son propre niveau de volume
- **Stockage des volumes** : Les pr√©f√©rences de volume sont conserv√©es pour chaque son
- **Event listeners optimis√©s** : Meilleure gestion des √©v√©nements de clic sur les cartes d'√©motion

### üìÅ Fichiers Modifi√©s
- `js/audio.js` : Syst√®me de volume individuel et mapping des sons
- `js/feelings.js` : Debugging des √©v√©nements de clic
- `styles.css` : Propri√©t√©s CSS pour les cartes cliquables
- `changelog.md` : Documentation des corrections

---

## [Version Actuelle] - 2024-12-19

### ‚úÖ Corrig√©
- **Bug critique**: Correction de l'erreur `this.notifyObservers is not a function` dans `js/feelings.js`
  - Ajout de la m√©thode `notifyObservers()` manquante √† la classe `FeelingsState`
  - Impl√©mentation compl√®te du pattern Observer pour la gestion d'√©tat
  - La navigation √âmotions ‚Üí Intensit√© ‚Üí Besoins ‚Üí Activit√©s fonctionne maintenant correctement
- **Bug d'affichage**: Correction du probl√®me de superposition des sections dans le parcours √©motionnel
  - Les cartes de besoins apparaissaient en dessous des cartes d'intensit√© au lieu de les remplacer
  - Ajout de la gestion manquante de `intensitySection` dans les m√©thodes `showNeeds()`, `showEmotions()` et `restart()`
  - Navigation par √©tapes maintenant correcte avec remplacement complet des sections

### üîß Am√©liorations techniques
- Impl√©mentation compl√®te du pattern Observer dans `FeelingsState`
- Meilleure gestion des erreurs et de l'√©tat de l'application
- Navigation plus coh√©rente entre toutes les sections du parcours √©motionnel
- Code plus robuste et maintenable

### ‚ö†Ô∏è Avertissements non critiques
- Avertissements de d√©pr√©ciation `ScriptProcessorNode` de Tone.js v14.7.77 (non critique, fonctionnalit√© intacte)
- Recommandation: Mise √† niveau vers Tone.js v15+ ou utilisation d'`AudioWorkletNode` √† long terme

---

## [Version en cours] - 2024-12-XX

### Ajout√©
- Nouveau syst√®me de profils avec sauvegarde/chargement
- Interface de gestion des profils dans la section d√©di√©e
- Pr√©visualisation des profils sauvegard√©s sur la page d'accueil
- Syst√®me de bulles d'information avec modal interactif
- Animations de bulles flottantes dans le modal d'information
- **√âTAPE 1 TERMIN√âE** : Refactorisation compl√®te de la logique feelings
  - Nouvelle classe `FeelingsState` pour la gestion centralis√©e d'√©tat
  - Suppression du code dupliqu√© entre `script.js` et `feelings.js`
  - Migration des `onclick` vers des event listeners modernes
  - Architecture modulaire et maintenable

### Modifi√©
- Am√©lioration de l'interface utilisateur avec de nouveaux styles
- Optimisation du syst√®me de navigation entre les sections
- **Refactorisation majeure du module feelings** :
  - Centralisation de la logique dans `feelings.js` uniquement
  - Remplacement des attributs `onclick` par `data-action`
  - Impl√©mentation d'un syst√®me d'observateurs pour l'√©tat
  - Unification de la gestion des √©motions, besoins et activit√©s

### Corrig√©
- Correction des probl√®mes de duplication de cartes de profils
- Am√©lioration de la gestion des √©tats des profils
- Correction des erreurs de navigation dans certains cas
- **√âlimination de la duplication de code** dans la section feelings
- **Correction de l'architecture** : s√©paration claire des responsabilit√©s

---

## [Latest] - HTML5 Audio API Implementation

### Major Changes
- **HTML5 Audio API**: Replaced Tone.js Player instances with native HTML5 Audio elements for all MP3 files
- **File Protocol Support**: Application now works directly from file system without requiring HTTP server
- **Hybrid Audio System**: MP3 files use HTML5 Audio, synthesized sounds use Tone.js
- **No Server Required**: Eliminated need for local HTTP server setup

### Fixed
- **CORS Policy Errors**: Completely resolved by using HTML5 Audio API for MP3 files
- **File Protocol Compatibility**: Application works when opened directly in browser
- **Tone.js Deprecation Warnings**: Reduced by limiting Tone.js to synthesized sounds only
- **AudioContext Suspension**: HTML5 Audio handles autoplay policies natively
- **Audio Loading Failures**: Improved error handling with native HTML5 Audio events

### Enhanced
- **createAudioElement()**: New method for creating HTML5 Audio with unified interface
- **Unified Audio Control**: Single interface for both HTML5 Audio and Tone.js objects
- **Error Handling**: Native HTML5 Audio error events and loading states
- **Performance**: More efficient MP3 playback with native browser audio
- **Cross-Platform**: Better compatibility across devices and browsers

### Technical Improvements
- **createNatureSounds()**: Replaced all Tone.Player instances with HTML5 Audio elements
- **createMelodies()**: Updated berceuse and ballade to use HTML5 Audio
- **startSound()**: Added HTML5 Audio element detection and handling
- **stopSound()**: Enhanced to properly handle both audio types
- **Audio Interface**: Added start() and stop() methods to HTML5 Audio elements

### Audio System Architecture
```
HTML5 Audio (MP3 Files):
- Nature Sounds: campagne, forest, ocean, rain, chat, feu, underwater
- UI Sounds: bubble
- Melodies: berceuse, ballade

Tone.js (Synthesized):
- Noise Generators: white, pink, brown noise
- Synthesizers: piano, lofi
```

### Documentation
- **AUDIO_FIXES.md**: Updated with HTML5 Audio API implementation details
- **Deployment**: Simplified - no server setup required
- **Architecture**: Documented hybrid audio system approach

### Benefits
- **Simplified Deployment**: Double-click HTML file to run
- **Better Performance**: Native audio handling for MP3 files
- **Reduced Dependencies**: Less reliance on Tone.js
- **Improved Reliability**: Native browser error handling
- **Cross-Platform**: Works on all HTML5-capable devices

### Requirements
- **Modern Browser**: HTML5 Audio support (all modern browsers)
- **Audio Files**: MP3 files in ./sons/ directory
- **User Interaction**: Audio starts after user click (browser policy)

---

## [Previous] - 2024-12-19

### Added
- Comprehensive audio system error handling and recovery
- Async/await pattern for audio initialization functions
- Graceful degradation when audio files fail to load
- Enhanced console logging for audio debugging
- AUDIO_FIXES.md documentation for technical details
- Proper HTTP server requirement for CORS compliance

### Enhanced
- Audio context initialization now properly deferred until user interaction
- Melody patterns configured but not started until audio context is ready
- All audio file loading wrapped in try-catch blocks for error recovery
- Improved error messages changed from errors to warnings to reduce console noise
- Better compliance with Chrome's autoplay policy

### Fixed
- CORS policy errors when accessing MP3 files via file:// protocol
- Tone.js ScriptProcessorNode deprecation warnings
- AudioContext suspension issues due to autoplay policy
- Premature transport start causing audio context warnings
- MP3 loading failures now handled gracefully without breaking the app

### Technical Improvements
- `setupAudio()` function now async with comprehensive error handling
- `createNatureSounds()` and `createMelodies()` functions enhanced with individual file error handling
- `startMelodyPatterns()` function improved to defer pattern activation
- `initializeAudioContext()` function enhanced to start patterns when audio is ready
- Application now requires HTTP server (localhost:8000) for proper audio functionality

## [Version 2.7.3] - 2025-05-19

### üêõ Corrections critiques de l'affichage visuel
- **Canvas tronqu√© corrig√©** : Suppression des conflits CSS width/height 100%
- **Blocage visuel r√©solu** : Am√©lioration de la gestion des √©tats visualsPaused
- **Changement de visuel r√©par√©** : Fonction setVisual() avec r√©activation forc√©e
- **Dimensions canvas stabilis√©es** : Calculs de redimensionnement robustes
- **Rendu DPR am√©lior√©** : Gestion correcte du device pixel ratio
- **S√©curit√© canvas** : V√©rifications d'existence avant manipulation
- **Logs de d√©bogage** : Tra√ßabilit√© des op√©rations canvas
- **üÜï Respiration guid√©e corrig√©e** : Initialisation automatique du canvas lors de l'acc√®s √† la section visuels
- **Page interactive "Comment te sens-tu ?"** : Nouvelle fonctionnalit√© d'aide √©motionnelle pour les enfants
- **Navigation entre sections √©motions/besoins/activit√©s** : Correction compl√®te des bugs d'affichage lors des retours (vidage des grilles)
- **Fonction `showNeeds()`** : Vidage de la grille des activit√©s (`activitiesGrid`) pour √©viter les cartes r√©siduelles.
- **Fonction `showEmotions()`** : Vidage des grilles des besoins (`needsGrid`) et des activit√©s (`activitiesGrid`) pour un √©tat propre.
- **Fonction `restart()`** : Vidage de toutes les grilles (`needsGrid`, `activitiesGrid`) en plus de la r√©initialisation des √©tats et sections.
- **R√©initialisation des √©tats visuels** : Toutes les cartes se remettent √† z√©ro correctement lors de la navigation

## [Version 2.2.0] - 2024-12-18

### ‚úÖ √âtape 2 : Harmonisation du design et des animations (TERMIN√âE)

#### üé® Syst√®me de cartes unifi√©
- **Classe `card-base`** : Syst√®me de cartes commun pour toutes les sections
- **Classes modulaires** : `card-icon`, `card-title`, `card-description` pour une structure coh√©rente
- **Variantes de taille** : `card-small`, `card-large` pour diff√©rents contextes
- **√âtats harmonis√©s** : Hover, selected et active states unifi√©s

#### ‚ú® Animations am√©lior√©es
- **Micro-interactions** : Animation `cardPulse` au survol avec rotation subtile des ic√¥nes
- **Transitions fluides** : Timing unifi√© avec `cubic-bezier(0.4, 0.0, 0.2, 1)`
- **Effets visuels** : Gradients dynamiques et ombres progressives
- **Performance optimis√©e** : Utilisation de `will-change` et `transform` pour les animations GPU

#### üéØ Design responsive harmonis√©
- **Grilles adaptatives** : Tailles minimales optimis√©es pour chaque type de carte
- **Espacements coh√©rents** : Syst√®me d'espacement unifi√© (1rem, 1.2rem, 1.5rem)
- **Typographie standardis√©e** : Tailles et poids de police harmonis√©s
- **Points de rupture optimis√©s** : 768px (tablette) et 480px (mobile)

#### üåà Syst√®me de couleurs enrichi
- **Variables de gradient** : `--gradient-soft`, `--gradient-primary`, `--gradient-success`, `--gradient-warm`
- **Couleurs contextuelles** : Chaque type de carte a sa couleur d'accent (bleu, vert, p√™che)
- **Contraste am√©lior√©** : Meilleure lisibilit√© en mode sombre et clair

#### üìÅ Fichiers modifi√©s
- `styles.css` : Syst√®me de cartes unifi√©, animations et responsive design
- `index.html` : Migration vers les nouvelles classes de cartes
- `js/feelings.js` : Utilisation des classes unifi√©es pour les cartes dynamiques

#### ‚úÖ Tests effectu√©s
- Coh√©rence visuelle sur desktop, tablette et mobile ‚úì
- Animations fluides et performantes ‚úì
- Interactions tactiles optimis√©es ‚úì
- Th√®mes clair et sombre harmonis√©s ‚úì
- Serveur de test fonctionnel sur le port 8000 ‚úì

## [Version 2.1.1] - 2024-12-18

### ‚úÖ √âtape 1 : Refactorisation de la logique des sentiments (TERMIN√âE)

#### üîß Am√©liorations techniques
- **Nouvelle classe `FeelingsState`** : Gestion centralis√©e de l'√©tat des √©motions, besoins et observateurs
- **Suppression du code dupliqu√©** : √âlimination des variables et fonctions redondantes dans `script.js`
- **Migration des √©v√©nements** : Remplacement des attributs `onclick` par des √©couteurs d'√©v√©nements avec `data-action`
- **Centralisation de la logique** : Toute la logique des sentiments est maintenant dans `feelings.js`

#### üéØ Fonctionnalit√©s maintenues
- **Compatibilit√© totale** : Toutes les fonctions existantes continuent de fonctionner
- **Fonctions globales** : Maintien de `showNeeds`, `showActivities`, `showEmotions`, `restart` pour la compatibilit√©
- **Interface utilisateur** : Aucun changement visible pour l'utilisateur final

#### üìÅ Fichiers modifi√©s
- `script.js` : Suppression du code dupliqu√© des √©motions
- `feelings.js` : Impl√©mentation de `FeelingsState` et `FeelingsManager`
- `index.html` : Migration des `onclick` vers `data-action`

#### ‚úÖ Tests effectu√©s
- Navigation entre les sections d'√©motions ‚úì
- S√©lection d'√©motions et affichage des besoins ‚úì
- S√©lection de besoins et affichage des activit√©s ‚úì
- Fonctions de retour et red√©marrage ‚úì
- Serveur de test fonctionnel sur le port 8000 ‚úì

## [Version 2.0.0] - 2024-12-19

### ‚ú® Nouvelles fonctionnalit√©s
- **Cartes de conseils et d'activit√©s interactives** : Ajout d'animations et de messages d'encouragement lors du clic
  - Animation de pulsation douce lors du clic sur une carte
  - Bulle d'encouragement personnalis√©e pour chaque conseil et activit√© avec messages tendres et apaisants
  - Design adapt√© aux enfants avec ic√¥nes flottantes et transitions fluides
  - Messages contextuels encourageant l'enfant √† suivre le conseil ou l'activit√© choisie
  - Fermeture automatique apr√®s 8 secondes ou manuelle via bouton de fermeture
  - **Effet sonore** : Son de bulle 'pop' au clic qui ne stoppe pas la musique en cours
  - **Am√©lioration du design** : Bulle plus arrondie (30px) et meilleur contraste en mode sombre
  - **Extension aux cartes d'activit√©s** : Fonctionnalit√© √©tendue aux cartes "Voici ce que tu peux faire"
  - Nouveau fichier `js/tips.js` pour g√©rer toutes les interactions
  - Styles CSS d√©di√©s avec animations douces et design apaisant optimis√© pour le mode sombre

## Version 1.3.1 - Corrections de Positionnement et Transparence

### üîß Corrections Critiques
- **Positionnement intelligent** : Correction du probl√®me de positionnement vertical des bulles
  - D√©tection automatique de l'espace disponible au-dessus et en-dessous de la carte
  - Positionnement adaptatif : au-dessus si possible, sinon en-dessous, ou au centre du viewport
  - Calculs pr√©cis tenant compte de la hauteur du viewport et du scroll
- **Contraintes de viewport** : Les bulles restent toujours visibles dans les limites de l'√©cran
- **Transparence subtile** : Ajout d'une l√©g√®re transparence (95%) pour un effet plus √©l√©gant

### üéØ Am√©liorations UX
- **Positionnement centr√©** : Bulles parfaitement centr√©es horizontalement sur les cartes
- **Gestion des bords** : Protection contre le d√©bordement hors √©cran
- **Animation coh√©rente** : Transparence maintenue dans toutes les phases d'animation

### üìÅ Fichiers Modifi√©s
- `js/tips.js` : Refactoring complet de la logique de positionnement
- `styles.css` : Ajustement de l'opacit√© et des animations
- `changelog.md` : Documentation des corrections

---

## Version 1.3.0 - Am√©lioration Majeure des Bulles Interactives

### ‚ú® Nouvelles Fonctionnalit√©s
- **Messages personnalis√©s intelligents** : Syst√®me de mapping dynamique bas√© sur le contenu r√©el des activit√©s
- **Reconnaissance contextuelle** : Messages adapt√©s automatiquement selon les mots-cl√©s des activit√©s
- **Fallback intelligent** : Message par d√©faut personnalis√© avec le titre de l'activit√© si aucun template ne correspond

### üé® Design de Bulle R√©volutionn√©
- **D√©grad√©s sophistiqu√©s** : Arri√®re-plan avec d√©grad√© subtil multi-couleurs (violet, bleu, lavande)
- **Effets visuels avanc√©s** :
  - Animation de shimmer continue
  - Effet d'entr√©e avec rotation et rebond
  - Glow anim√© autour de l'ic√¥ne
  - Ombres color√©es et inset highlights
- **Dimensions optimis√©es** : Bulle plus large (320px) avec padding g√©n√©reux
- **Backdrop-filter am√©lior√©** : Flou de 15px avec saturation pour un effet premium

### üîß Corrections Techniques Majeures
- **Mapping corrig√©** : Fin de la confusion entre index et contenu r√©el des activit√©s
- **Timing optimis√©** : D√©lai d'affichage ajust√© (400ms) avec transition fluide
- **Gestion des √©tats** : Nettoyage automatique des bulles existantes avant affichage
- **Templates √©tendus** : 20+ templates couvrant tous les types d'activit√©s

### üìã Templates d'Activit√©s Support√©s
- **Repos** : sieste, dormir, bain, boissons chaudes
- **Musique** : √©couter, chanter, danser
- **Cr√©ativit√©** : dessiner, colorier, cr√©er
- **Lecture** : lire, livres
- **Physique** : respirer, bouger, sport, √©vacuation
- **Social** : parler, appeler, c√¢lins
- **Nature** : observer, connexion naturelle
- **R√©confort** : peluches, couvertures, pleurer

### üéØ Am√©liorations UX
- **Animations fluides** : Entr√©e avec rotation et effet de rebond
- **Feedback visuel riche** : Ic√¥nes avec glow et animations flottantes
- **Positionnement intelligent** : Bulle positionn√©e de mani√®re optimale
- **Auto-masquage** : Disparition automatique apr√®s 8 secondes

### üìÅ Fichiers Modifi√©s
- `js/tips.js` : Refactoring complet du syst√®me de messages avec mapping intelligent
- `styles.css` : Design de bulle enti√®rement repens√© avec effets avanc√©s
- `changelog.md` : Documentation des am√©liorations majeures

---

## Version 1.2.0 - Am√©liorations des Cartes Interactives

### ‚ú® Nouvelles Fonctionnalit√©s
- **Extension aux cartes d'activit√©s** : Les fonctionnalit√©s interactives s'appliquent maintenant aussi aux cartes d'activit√©s
- **Effet sonore de bulle** : Ajout d'un son "pop" agr√©able lors du clic sur les cartes
- **Messages d'encouragement personnalis√©s** : Messages adapt√©s pour chaque type de carte (conseils et activit√©s)

### üé® Am√©liorations du Design
- **Bulle plus arrondie** : Rayon de bordure augment√© pour un aspect plus doux
- **Meilleur contraste en mode sombre** : Texte plus lisible avec `font-weight: 500`
- **Queue de bulle am√©lior√©e** : Utilisation des variables CSS et ombre port√©e ajust√©e
- **Effet de flou d'arri√®re-plan** : `backdrop-filter: blur(10px)` pour un effet moderne

### üîß Am√©liorations Techniques
- **Code modulaire** : M√©thode commune `displayEncouragementBubble()` pour les deux types de cartes
- **Gestion robuste** : Gestion d'erreur pour le chargement du son
- **Performance optimis√©e** : D√©l√©gation d'√©v√©nements pour les cartes d'activit√©s
- **Timing am√©lior√©** : Synchronisation parfaite entre son, animation et affichage du message

### üìÅ Fichiers Modifi√©s
- `js/tips.js` : Ajout des fonctionnalit√©s sonores et extension aux activit√©s
- `styles.css` : Am√©liorations du design de la bulle et du contraste
- `changelog.md` : Documentation des nouvelles fonctionnalit√©s

### üéØ Fonctionnalit√©s Testables
- Cliquer sur les cartes dans les sections "Conseils" et "Activit√©s" pour entendre le son et voir les messages
- Tester en mode sombre pour v√©rifier la lisibilit√© am√©lior√©e
- L'effet sonore ne bloque pas les autres sons de l'application

### ‚úÖ Termin√©
- ‚úÖ Int√©gration compl√®te de la section "Comment te sens-tu ?" dans l'application principale
- ‚úÖ Navigation fluide entre les sections √©motions, besoins et activit√©s
- ‚úÖ Design uniforme avec le reste de l'application
- ‚úÖ Boutons de retour et de recommencement fonctionnels
- ‚úÖ Cartes d'√©motions avec animations et interactions
- ‚úÖ Syst√®me de s√©lection d'√©motions, besoins et activit√©s
- ‚úÖ Int√©gration dans la section Conseils de l'application principale
- ‚úÖ Correction du probl√®me de navigation du bouton "Comment te sens-tu ?"
- ‚úÖ Correction du probl√®me de chargement des fichiers MP3 avec Tone.js
- ‚úÖ Ajout de logs de d√©bogage pour diagnostiquer les probl√®mes restants
- ‚úÖ Restauration du design original des cartes de besoins et d'activit√©s
- ‚úÖ Ajout des ic√¥nes appropri√©es pour tous les besoins et activit√©s
- ‚úÖ Harmonisation du style visuel avec le design original
- ‚úÖ Correction des probl√®mes de logique de navigation dans la section √©motions/besoins
- ‚úÖ Correction du probl√®me de lecture des fichiers MP3 (berceuse, ballade)
- ‚úÖ Am√©lioration de la gestion des √©tats de s√©lection lors des retours en arri√®re
- ‚úÖ Ajout de transitions fluides entre les sections √©motions ‚Üî besoins ‚Üî activit√©s
- ‚úÖ Am√©lioration du debugging pour diagnostiquer les probl√®mes de lecture MP3
- ‚úÖ Optimisation des transitions (200ms) avec easing cubic-bezier pour plus de fluidit√©
- ‚úÖ Ajout de will-change: opacity pour optimiser les performances d'animation

### üîß Am√©liorations techniques
- **Transform reset** : R√©initialisation du contexte canvas √† chaque resize
- **Dimensions minimales** : Garantie de taille minimum 200x150px
- **Fallback dimensions** : Calculs de secours pour compatibilit√©
- **Console logging** : Suivi d√©taill√© des op√©rations visuelles
- **üÜï initializeVisualsSection()** : Nouvelle m√©thode pour garantir l'affichage correct du premier visuel

## [Version 2.7.2] - 2024-12-22

### üñ•Ô∏è Am√©liorations Responsives Majeures
- **Canvas adaptatif** : Redimensionnement intelligent selon la taille d'√©cran
- **Ratios d'aspect optimis√©s** : 16:9 mobile, 16:10 tablette, 4:3 desktop
- **Rendu haute d√©finition** : Support du device pixel ratio pour √©crans Retina
- **Dimensions fluides** : Utilisation de vh/vw pour une adaptation parfaite
- **Gestion orientation** : Adaptation automatique portrait/paysage

### üéØ Mode Plein √âcran Immersif
- **Bouton plein √©cran** : Nouveau contr√¥le dans les options visuelles
- **Immersion totale** : Affichage des visuels sur tout l'√©cran
- **Compatibilit√© navigateurs** : Support Webkit, Moz, MS et standard
- **Transitions fluides** : Entr√©e/sortie de plein √©cran sans interruption
- **Redimensionnement automatique** : Canvas s'adapte instantan√©ment

### üì± Optimisations Mobiles
- **Contr√¥les tactiles** : Boutons visuels plus flexibles sur mobile
- **Aspect ratios mobiles** : 16:9 pour une meilleure immersion
- **Performance am√©lior√©e** : Rendu optimis√© pour appareils mobiles
- **Interface adaptative** : √âl√©ments qui s'ajustent √† l'espace disponible

## [Version 2.7.1] - 2024-12-22

### üîß Corrections Critiques de Suppression
- **Solution 1** : Cr√©ation de cartes s√©par√©es pour √©viter les conflits DOM entre accueil et section profils
- **Solution 2** : Suppression imm√©diate des √©l√©ments DOM avant mise √† jour des donn√©es
- **Solution 3** : Rechargement s√©lectif uniquement si la suppression DOM √©choue
- **Attributs de tra√ßage** : Ajout de `data-profile-id` et `data-location` pour un suivi pr√©cis
- **Gestion d'√©tat vide** : Mise √† jour automatique de l'affichage quand aucun profil ne reste
- **Logging renforc√©** : Traces d√©taill√©es pour le d√©bogage des suppressions

### ‚ú® Nouvelle Fonctionnalit√© : Bulle d'Information
- **Bulle interactive** : Bouton d'information en bas √† gauche avec animation douce
- **Modal apaisant** : Interface avec effets de bulles flottantes anim√©es
- **Contenu complet** : Pr√©sentation de l'application, fonctionnalit√©s et conseils
- **Informations cr√©ateur** : Section d√©di√©e √† Geoffroy, cr√©ateur de l'application
- **Animations fluides** : 8 bulles anim√©es avec mouvements al√©atoires
- **Contr√¥les intuitifs** : Fermeture par clic, √âchap ou clic sur l'arri√®re-plan
- **Design coh√©rent** : Int√©gration parfaite avec le th√®me de l'application

### üé® Am√©liorations Visuelles
- **Animation de pulsation** : Effet subtil sur la bulle d'information
- **D√©grad√©s harmonieux** : Couleurs coh√©rentes avec la palette de l'application
- **Effets de flou** : Arri√®re-plan avec `backdrop-filter` pour un effet moderne
- **Transitions fluides** : Animations d'ouverture et fermeture du modal

## [Version 2.7.0] - 2024-12-22

### üîß Refonte majeure des profils "Mes Bulles"
- **Sauvegarde s√©lective** : Ne sauvegarde que les derniers √©l√©ments cliqu√©s de chaque section
- **Gestion des valeurs NULL** : Les √©l√©ments non cliqu√©s sont sauvegard√©s comme NULL
- **Suivi intelligent** : Tracking automatique du dernier son, visuel et minuteur s√©lectionn√©s
- **Chargement optimis√©** : Navigation automatique vers la section Visuels lors du chargement
- **D√©marrage automatique** : Le minuteur se lance automatiquement si sauvegard√©
- **Compatibilit√© r√©troactive** : Support des anciens profils avec migration automatique

### ‚ú® Nouvelles fonctionnalit√©s de sauvegarde
- **Son unique** : Sauvegarde du dernier son cliqu√© avec son volume
- **Visuel unique** : Sauvegarde du dernier visuel s√©lectionn√©
- **Minuteur intelligent** : Sauvegarde et d√©marrage automatique de la dur√©e
- **Messages d√©taill√©s** : R√©sum√© des √©l√©ments sauvegard√©s et charg√©s
- **Interface adapt√©e** : Affichage optimis√© des profils avec gestion des valeurs NULL

### üéØ Am√©liorations comportementales
- **Navigation contextuelle** : Redirection vers Visuels si un visuel est charg√©
- **Feedback enrichi** : Messages informatifs sur les √©l√©ments charg√©s
- **Gestion d'erreurs** : Robustesse accrue avec logs d√©taill√©s
- **Performance** : Chargement plus rapide avec moins d'√©l√©ments √† traiter

## [Version 2.6.3] - 2024-12-22

### üîß Corrections Critiques Suppl√©mentaires
- **Minuteur corrig√©** : Le minuteur s'arr√™te maintenant correctement et ne va plus en n√©gatif
- **Suppression de profils corrig√©e** : Les profils sont maintenant correctement supprim√©s de l'affichage
- **Nettoyage des √©tats visuels** : Suppression compl√®te des indicateurs visuels lors du chargement de profils
- **Arr√™t du minuteur lors du chargement** : Le minuteur en cours s'arr√™te automatiquement lors du chargement d'un profil
- **Gestion des conflits sonores** : Nettoyage complet des √©tats visuels des sons avant chargement
- **Logging de d√©bogage** : Ajout de logs d√©taill√©s pour la suppression et le chargement

## [Version 2.6.2] - 2024-12-22
 
### üîß Corrections Critiques
- **Correction des boutons de profil** : Les boutons "Charger" et "Supprimer" fonctionnent maintenant correctement
- **Feedback visuel am√©lior√©** : Ajout d'animations pour les √©tats de chargement et suppression
- **Gestion d'erreurs robuste** : Meilleure gestion des erreurs lors du chargement des profils
- **Navigation corrig√©e** : La navigation vers la section visuels fonctionne maintenant
- **Pr√©vention des erreurs null** : Protection contre les r√©f√©rences nulles dans setVisual
- **Logging am√©lior√©** : Ajout de logs d√©taill√©s pour le d√©bogage

## [Version 2.6.1] - 2024-12-22

### üîß Refonte majeure des profils "Mes Bulles"
- **Sauvegarde s√©lective** : Ne sauvegarde que les derniers √©l√©ments cliqu√©s de chaque section
- **Gestion des valeurs NULL** : Les √©l√©ments non cliqu√©s sont sauvegard√©s comme NULL
- **Suivi intelligent** : Tracking automatique du dernier son, visuel et minuteur s√©lectionn√©s
- **Chargement optimis√©** : Navigation automatique vers la section Visuels lors du chargement
- **D√©marrage automatique** : Le minuteur se lance automatiquement si sauvegard√©
- **Compatibilit√© r√©troactive** : Support des anciens profils avec migration automatique

### ‚ú® Nouvelles fonctionnalit√©s de sauvegarde
- **Son unique** : Sauvegarde du dernier son cliqu√© avec son volume
- **Visuel unique** : Sauvegarde du dernier visuel s√©lectionn√©
- **Minuteur intelligent** : Sauvegarde et d√©marrage automatique de la dur√©e
- **Messages d√©taill√©s** : R√©sum√© des √©l√©ments sauvegard√©s et charg√©s
- **Interface adapt√©e** : Affichage optimis√© des profils avec gestion des valeurs NULL

### üéØ Am√©liorations comportementales
- **Navigation contextuelle** : Redirection vers Visuels si un visuel est charg√©
- **Feedback enrichi** : Messages informatifs sur les √©l√©ments charg√©s
- **Gestion d'erreurs** : Robustesse accrue avec logs d√©taill√©s
- **Performance** : Chargement plus rapide avec moins d'√©l√©ments √† traiter

## [Version 2.6.1] - 2024-12-22

### üîß Corrections importantes
- **Fonctionnalit√© "Mes Bulles" corrig√©e** : Le bouton "Charger" fonctionne maintenant correctement
- **Navigation automatique** : Chargement d'un profil navigue automatiquement vers la section Sons
- **Feedback visuel am√©lior√©** : Indicateur de chargement sur le bouton "Charger"
- **Gestion d'erreurs renforc√©e** : Messages d'erreur clairs si un profil est introuvable
- **Logs de d√©bogage** : Ajout de logs d√©taill√©s pour le chargement des profils
- **Synchronisation UI** : Mise √† jour automatique du bouton pause/play global lors du chargement

### üîß Am√©liorations UX
- **Messages informatifs** : Messages de la mascotte plus d√©taill√©s lors du chargement
- **D√©lai optimis√©** : Petit d√©lai pour assurer le chargement correct de l'interface
- **S√©lecteurs am√©lior√©s** : Correction des s√©lecteurs CSS pour les sliders de volume
- **√âtats des boutons** : D√©sactivation temporaire du bouton pendant le chargement

## [Version 2.6.0] - 2024-12-22

### üîß Am√©liorations majeures du responsive
- **Breakpoints √©tendus** : Ajout de points de rupture pour tablettes (1024px), paysage mobile (640px) et tr√®s petits √©crans (360px)
- **Navigation optimis√©e** : Adaptation intelligente de la taille des boutons et espacement selon l'√©cran
- **Interface tactile am√©lior√©e** : Cibles de touch plus grandes (24px minimum) et √©tats actifs optimis√©s
- **Grilles adaptatives** : Colonnes flexibles pour tous les composants (sons, conseils, profils)
- **Typographie responsive** : Taille de police fluide avec clamp() pour une lisibilit√© optimale
- **Accessibilit√© renforc√©e** : Support du mode contraste √©lev√© et r√©duction de mouvement

### üîß Am√©liorations techniques
- **Meta tags mobiles** : Configuration optimale pour les appareils mobiles et PWA
- **Touch scrolling iOS** : D√©filement fluide sur tous les appareils Apple
- **√âtats hover intelligents** : D√©sactivation automatique sur les appareils tactiles
- **Styles d'impression** : Mise en page optimis√©e pour l'impression
- **Pr√©vention du scroll horizontal** : √âlimination des d√©bordements sur petits √©crans

### üì± Responsive par appareil
- **Desktop (>1024px)** : Mise en page compl√®te avec toutes les fonctionnalit√©s
- **Tablette (768-1024px)** : Interface adapt√©e avec navigation compacte
- **Mobile paysage (640-768px)** : Optimisation pour l'orientation horizontale
- **Mobile portrait (<640px)** : Interface mobile-first avec navigation verticale
- **Petits mobiles (<360px)** : Adaptation pour les tr√®s petits √©crans

## [Version 2.5.1] - 2024-12-22

### üîß Enhanced Pause/Play Functionality
- **Smart Global Button State**: The global pause/play bubble now automatically updates based on sound activity:
  - Shows pause icon (‚è∏Ô∏è) when any sound starts playing
  - Shows play icon (‚ñ∂Ô∏è) when all sounds are stopped
  - Maintains proper state synchronization between individual sound controls and global control
- **Improved User Experience**: Intuitive button behavior that reflects actual audio state
- **State Tracking**: Enhanced sound state management for better reliability

### üè∑Ô∏è Interface Updates
- **Button Rename**: Changed "Mandala Rotatif" to "G√©om√©trie vivante" for better clarity

## [Version 2.5.0] - 2024-12-19

### ‚ú® Nouvelles Fonctionnalit√©s
- **Bouton minuteur 1 minute** : Ajout d'un preset rapide pour des sessions courtes
- **Trois boutons bulle** : Interface compl√®te avec bulles th√©matiques
  - Bulle th√®me (haut-gauche) : Basculer entre mode jour/nuit
  - Bulle symbole app (haut-droite) : Affiche l'ic√¥ne jour/nuit ou derni√®re ic√¥ne cliqu√©e
  - Bulle pause/play (bas-droite) : Contr√¥le global de lecture
- **Suivi des ic√¥nes** : La bulle symbole m√©morise la derni√®re ic√¥ne de son/visuel activ√©e
- **Animations oscillantes** : Toutes les bulles ont l'animation `float` pour un effet vivant

### üîß Am√©liorations Techniques
- Nouvelles fonctions `updateAppIcon()`, `resetAppIcon()`, `setLastClickedIcon()`
- Suivi automatique des ic√¥nes dans `activateSound()` et `setVisual()`
- Mise √† jour automatique de l'ic√¥ne app lors du changement de th√®me
- Gestion d'√©tat `lastClickedIcon` pour la persistance des ic√¥nes
- Taille unifi√©e de 60px pour toutes les bulles

### üé® Am√©liorations Interface
- **Positionnement optimis√©** : Bulles aux quatre coins avec espacement coh√©rent
- **Style unifi√©** : D√©grad√©s, ombres et animations identiques pour toutes les bulles
- **Animations fluides** : Effet `float` sur toutes les bulles pour dynamisme
- **Feedback visuel** : Messages mascotte pour interactions utilisateur
- **Accessibilit√©** : Titres et labels appropri√©s pour tous les boutons

### üêõ Corrections
- Correction de la visibilit√© du bouton pause global
- Am√©lioration de la gestion des √©v√©nements de clic
- Optimisation des s√©lecteurs CSS pour les ic√¥nes

## [Version 2.4.0] - 2024-12-19

### ‚ú® Nouvelles Fonctionnalit√©s
- **Arr√™t automatique au minuteur** : Les sons et visuels s'arr√™tent automatiquement √† la fin du minuteur
- **Bouton pause/play global** : Nouveau bouton bulle flottant pour contr√¥ler tous les sons et visuels
- **Lecture continue par d√©faut** : Sons et visuels fonctionnent en continu jusqu'√† arr√™t manuel ou fin de minuteur
- **Contr√¥le unifi√©** : Pause et reprise simultan√©e de tous les √©l√©ments actifs

### üîß Am√©liorations Techniques
- Ajout des fonctions `stopAllVisuals()`, `pauseAllSounds()`, `resumeAllSounds()`
- Syst√®me de pause global avec √©tats `visualsPaused` et `globalPaused`
- Int√©gration du contr√¥le de pause dans la boucle d'animation des visuels
- Gestion am√©lior√©e des √©tats de lecture/pause pour tous les m√©dias

### üé® Am√©liorations Interface
- Bouton pause/play flottant avec design bulle moderne
- Gradient anim√© et effets hover pour le bouton de contr√¥le
- Positionnement fixe en bas √† droite pour acc√®s facile
- Ic√¥nes dynamiques (‚è∏Ô∏è/‚ñ∂Ô∏è) selon l'√©tat de lecture

### üêõ Corrections
- **CSS Vendor Prefix** : Ajout de la propri√©t√© standard `appearance` pour compatibilit√©
- Correction de la gestion des sons avec la nouvelle structure Set
- Am√©lioration de la robustesse du syst√®me de pause/reprise

## [Version 2.3.0] - 2024-12-19

### Ajout√©
- **Am√©liorations majeures des visuels apaisants** :
  - Respiration Guid√©e avec synchronisation parfaite (cycle 8s) et transitions fluides
  - Pluie d'√âtoiles redessin√©e avec ciel nocturne, 80 √©toiles scintillantes et √©toiles filantes
  - Mandala Rotatif hypnotisant avec 4 couches rotatives et g√©om√©trie sacr√©e
  - Gradients dynamiques et effets de lueur pour tous les visuels
- **Optimisations techniques** pour les animations complexes et performances am√©lior√©es

## [Version 2.2.0] - 2024-12-19

### Ajout√©
- **Animations d'ic√¥nes** : Chaque son dispose maintenant d'une animation unique et apaisante lors de sa lecture
  - Animations sp√©cialement con√ßues pour √™tre amusantes et relaxantes pour les enfants
  - Animations personnalis√©es pour chaque cat√©gorie de sons :
    - Bruits ambiants : vagues, floraison, balancement
    - Sons de la nature : danse d'arbre, gouttes de pluie, scintillement de feu, ronronnement
    - M√©lodies : touches de piano, mouvement de casque, flottement endormi, rythme de marche
- Syst√®me d'animation automatique d√©clench√©e lors du d√©marrage/arr√™t des sons

### Technique
- Ajout de 12 animations CSS personnalis√©es avec keyframes
- Int√©gration des fonctions `startIconAnimation()` et `stopIconAnimation()` dans le syst√®me audio
- Animations fluides avec transitions CSS pour une exp√©rience utilisateur optimale

## [Version 2.1.0] - 2024-12-19

### Ajout√©
- Ajout des m√©lodies "Berceuse" et "Ballade" en compl√©ment des m√©lodies existantes
- G√©n√©ration de fichiers audio fonctionnels pour "Berceuse" et "Ballade" avec FFmpeg
- Restauration des m√©lodies "Piano Doux" et "Lo-Fi Calme" pr√©c√©demment supprim√©es
- Mise √† jour de la documentation pour refl√©ter les quatre m√©lodies disponibles

### Modifi√©
- Section "M√©lodies Douces" maintenant avec quatre options : Piano Doux, Lo-Fi Calme, Berceuse, Ballade
- Correction de l'organisation des contr√¥les dans l'interface utilisateur

### Corrig√©
- Probl√®me de lecture des nouveaux sons "Berceuse" et "Ballade"
- Placement incorrect des contr√¥les dans la section "Bruits Ambiants"

## [1.0.0] - 2024-12-19

- Ajout de sons de la nature bas√©s sur des fichiers audio (campagne, for√™t, oc√©an, pluie, chat, feu) en remplacement des sons synth√©tis√©s.
- Ajout de nouvelles m√©lodies (Berceuse, Ballade) bas√©es sur des fichiers audio en compl√©ment des m√©lodies synth√©tis√©es existantes (Piano Doux, Lo-Fi Calme).
- Restauration des m√©lodies Piano Doux et Lo-Fi Calme originales.
- G√©n√©ration automatique de fichiers audio fonctionnels pour Berceuse et Ballade.
- Compatibilit√© Chrome : Initialisation audio sur interaction utilisateur.

### ‚úÖ Termin√© (Done)

#### üèóÔ∏è Architecture de Base
- ‚úÖ Structure HTML5 s√©mantique et accessible
- ‚úÖ Syst√®me de navigation par sections (SPA)
- ‚úÖ Design responsive mobile-first
- ‚úÖ Variables CSS pour gestion des th√®mes
- ‚úÖ Architecture JavaScript modulaire avec classe principale

#### üé® Interface Utilisateur
- ‚úÖ Palette de couleurs pastel apaisante
- ‚úÖ Typographie Nunito arrondie et lisible
- ‚úÖ Th√®me clair par d√©faut avec couleurs douces
- ‚úÖ Th√®me sombre (mode nuit) √† faible contraste
- ‚úÖ Boutons-ic√¥nes larges et facilement cliquables
- ‚úÖ Animations et transitions douces (fade-in/fade-out)
- ‚úÖ Design minimaliste sans surcharge visuelle

#### üé≠ Mascotte et Guidage
- ‚úÖ Mascotte bulle endormie (üåô) en position fixe
- ‚úÖ Messages contextuels selon la section active
- ‚úÖ Apparition douce des messages au survol
- ‚úÖ Conseils visuels simples et encourageants

#### üéµ Syst√®me Audio (Mixeur Sonore)
- ‚úÖ Int√©gration de Tone.js pour synth√®se audio avanc√©e
- ‚úÖ G√©n√©rateurs de bruits ambiants (blanc, rose, brun)
- ‚úÖ Sons de nature avec fichiers audio :
  - ‚úÖ Pluie douce (rain.mp3)
  - ‚úÖ Vagues calmes (ocean.mp3)
  - ‚úÖ Feu de camp (feu.mp3)
  - ‚úÖ For√™t d'√©t√© (forest.mp3)
  - ‚úÖ Ronronnement de chat (chat.mp3)
  - ‚úÖ Campagne paisible (campagne.mp3)
- ‚úÖ M√©lodies douces automatiques :
  - ‚úÖ Piano doux avec patterns harmoniques
  - ‚úÖ Lo-fi calme avec synth√®se triangle
- ‚úÖ Contr√¥les de volume individuels (0-100%)
- ‚úÖ Conversion volume lin√©aire vers √©chelle d√©cibel
- ‚úÖ Superposition de plusieurs sons simultan√©s
- ‚úÖ Boutons on/off visuels pour chaque son
- ‚úÖ Lecture exclusive : un seul son √† la fois (nouveau)
- ‚úÖ Mise en √©vidence visuelle du son en cours de lecture
- ‚úÖ Son de vent apaisant ajout√© (audio file)

#### ‚ú® G√©n√©rateur Visuel Apaisant
- ‚úÖ Syst√®me de rendu Canvas avec requestAnimationFrame
- ‚úÖ Quatre visuels apaisants :
  - ‚úÖ **Respiration Guid√©e** : Cercle pulsant au rythme respiratoire
  - ‚úÖ **Couleurs Flottantes** : D√©grad√©s pastel en mouvement organique
  - ‚úÖ **Pluie d'√âtoiles** : Particules lumineuses d√©rivant doucement
  - ‚úÖ **Mandala Rotatif** : G√©om√©trie sacr√©e en rotation lente
- ‚úÖ Un seul visuel affich√© √† la fois (pas de surcharge)
- ‚úÖ S√©lection facile via boutons d√©di√©s
- ‚úÖ Canvas responsive s'adaptant √† la taille d'√©cran

#### ‚è∞ Minuteur de Pause Sensorielle
- ‚úÖ Interface visuelle avec cercle de progression
- ‚úÖ Dur√©es pr√©d√©finies (2, 5, 10 minutes)
- ‚úÖ Champ pour dur√©e personnalis√©e (1-60 minutes)
- ‚úÖ Contr√¥les start/pause/stop fonctionnels
- ‚úÖ Affichage temps restant en format MM:SS
- ‚úÖ Progression visuelle avec d√©grad√© conic-gradient
- ‚úÖ Alerte de fin douce :
  - ‚úÖ Son harmonique non surprenant (note C5 douce)
  - ‚úÖ Animation de respiration du cercle
  - ‚úÖ Message encourageant de la mascotte

#### üíæ Syst√®me de Profils (Mes Bulles)
- ‚úÖ Sauvegarde compl√®te de l'√©tat actuel :
  - ‚úÖ Sons actifs et leurs volumes
  - ‚úÖ Visuel s√©lectionn√©
  - ‚úÖ Dur√©e du minuteur
  - ‚úÖ Date de cr√©ation
- ‚úÖ Nommage personnalis√© des profils
- ‚úÖ Stockage local avec localStorage
- ‚úÖ Interface de gestion :
  - ‚úÖ Cartes visuelles pour chaque profil
  - ‚úÖ Boutons charger/supprimer
  - ‚úÖ Confirmation avant suppression
- ‚úÖ Chargement instantan√© des configurations
- ‚úÖ Aper√ßu des profils sur l'√©cran d'accueil

#### üí° Section Conseils (Mon Coin Tranquille)
- ‚úÖ Six conseils pratiques illustr√©s :
  - ‚úÖ Cr√©ation d'espace personnel (cabane)
  - ‚úÖ C√¢lins r√©confortants (peluches)
  - ‚úÖ √âcouteurs anti-bruit
  - ‚úÖ Techniques de respiration
  - ‚úÖ √âclairage doux
  - ‚úÖ Objets textur√©s apaisants
- ‚úÖ Cartes visuelles avec ic√¥nes expressives
- ‚úÖ Descriptions simples et actionables
- ‚úÖ Layout en grille responsive

#### üåô Gestion des Th√®mes
- ‚úÖ Basculement fluide entre th√®me clair/sombre
- ‚úÖ Persistance du choix utilisateur
- ‚úÖ Variables CSS pour coh√©rence des couleurs
- ‚úÖ Ic√¥ne de toggle contextuelle (üåô/‚òÄÔ∏è)
- ‚úÖ Adaptation automatique de tous les composants

#### üì± Responsive Design
- ‚úÖ Mobile-first approach
- ‚úÖ Breakpoints pour tablettes et mobiles
- ‚úÖ Navigation adapt√©e aux petits √©crans
- ‚úÖ Redimensionnement automatique du canvas
- ‚úÖ R√©organisation des grilles sur mobile
- ‚úÖ Mascotte repositionn√©e sur mobile

#### ‚ôø Accessibilit√©
- ‚úÖ Aria-labels pour les boutons interactifs
- ‚úÖ Navigation clavier possible
- ‚úÖ Contrastes respectant les standards WCAG
- ‚úÖ Tailles de police suffisamment grandes
- ‚úÖ Animations non agressives pour les sensibilit√©s

#### üìö Documentation
- ‚úÖ README.md complet avec :
  - ‚úÖ Description d√©taill√©e du projet
  - ‚úÖ Guide d'installation et d'utilisation
  - ‚úÖ Documentation technique
  - ‚úÖ Informations sur l'accessibilit√©
- ‚úÖ Commentaires de code d√©taill√©s
- ‚úÖ Structure de fichiers claire

---

## üîÑ √Ä Faire (To Do)

### üéµ Am√©liorations Audio
- [ ] **Nouveaux Sons de Nature** :
  - [ ] Vent dans les arbres
  - [ ] Ruisseau qui coule
  - [ ] Chants de baleines
  - [ ] Grillons nocturnes
- [ ] **M√©lodies Additionnelles** :
  - [ ] Harpe celtique
  - [ ] Bols tib√©tains
  - [ ] Carillon √©olien
- [ ] **Contr√¥les Avanc√©s** :
  - [ ] √âgaliseur simple (graves/aigus)
  - [ ] Effets de r√©verb√©ration
  - [ ] Fade-in/fade-out automatique

### ‚ú® Nouveaux Visuels
- [ ] **Aquarium Virtuel** : Poissons nageant lentement
- [ ] **Jardin Zen** : Sable avec motifs qui se dessinent
- [ ] **Nuages D√©rivants** : Formations nuageuses en mouvement
- [ ] **Fractales Douces** : Motifs math√©matiques apaisants
- [ ] **Particules Interactives** : R√©action au mouvement de souris

### ‚è∞ Fonctionnalit√©s Minuteur
- [ ] **Intervalles Programm√©s** : Alternance travail/pause
- [ ] **Sons de Transition** : Alertes √† mi-parcours
- [ ] **Historique des Sessions** : Suivi du temps de relaxation
- [ ] **Objectifs Quotidiens** : Encouragement √† la r√©gularit√©

### üíæ Am√©liorations Profils
- [ ] **Export/Import** : Partage de profils entre appareils
- [ ] **Cat√©gorisation** : Organisation par humeur/activit√©
- [ ] **Profils Temporels** : Configurations selon l'heure
- [ ] **Favoris** : Marquage des profils les plus utilis√©s
- [ ] **Statistiques** : Fr√©quence d'utilisation des profils

### üéÆ Interactivit√© Avanc√©e
- [ ] **Mode Guid√©** : S√©ances de relaxation dirig√©es
- [ ] **R√©activit√© Biom√©trique** : Adaptation selon le rythme cardiaque
- [ ] **Contr√¥le Gestuel** : Navigation par mouvements
- [ ] **Reconnaissance Vocale** : Commandes simples

### üåê Fonctionnalit√©s Web
- [ ] **PWA (Progressive Web App)** :
  - [ ] Installation sur l'√©cran d'accueil
  - [ ] Fonctionnement hors ligne
  - [ ] Notifications push douces
- [ ] **Service Worker** : Cache des ressources
- [ ] **Web Share API** : Partage de profils

### üé® Am√©liorations Visuelles
- [ ] **Th√®mes Saisonniers** : Couleurs selon la p√©riode
- [ ] **Personnalisation Avanc√©e** :
  - [ ] Choix de couleurs personnalis√©es
  - [ ] Upload d'images de fond
  - [ ] Cr√©ation de d√©grad√©s custom
- [ ] **Animations WebGL** : Visuels plus complexes et fluides

### üêõ Correction de l'erreur CSS
- **Probl√®me r√©solu** : Suppression de la r√®gle CSS vide pour `.emotion-card`, `.need-card`, et `.activity-card` dans `styles.css`.
- [ ] **Mode Plein √âcran** : Immersion totale

### üß† Intelligence Adaptative
- [ ] **Apprentissage des Pr√©f√©rences** :
  - [ ] Suggestions automatiques
  - [ ] Adaptation selon l'heure
  - [ ] Recommandations personnalis√©es
- [ ] **D√©tection d'Humeur** : Adaptation selon le contexte
- [ ] **Progression Tracking** : Suivi du bien-√™tre

### üë• Fonctionnalit√©s Sociales
- [ ] **Profils Familiaux** : Gestion multi-utilisateurs
- [ ] **Partage S√©curis√©** : Envoi de configurations apaisantes
- [ ] **Communaut√©** : Biblioth√®que de profils partag√©s

### üîß Optimisations Techniques
- [ ] **Performance** :
  - [ ] Web Workers pour audio
  - [ ] Lazy loading des ressources
  - [ ] Optimisation des animations Canvas
- [ ] **Compatibilit√©** :
  - [ ] Support navigateurs plus anciens
  - [ ] Fallbacks pour fonctionnalit√©s avanc√©es
- [ ] **Tests** :
  - [ ] Tests unitaires JavaScript
  - [ ] Tests d'accessibilit√© automatis√©s
  - [ ] Tests de performance

### üì± Applications Natives
- [ ] **Application Mobile** :
  - [ ] Version React Native
  - [ ] Int√©gration capteurs (acc√©l√©rom√®tre)
  - [ ] Notifications locales
- [ ] **Application Desktop** :
  - [ ] Version Electron
  - [ ] Raccourcis clavier globaux
  - [ ] Int√©gration syst√®me

### üéì Contenu √âducatif
- [ ] **Guide Parents/√âducateurs** :
  - [ ] Conseils d'utilisation
  - [ ] Explication des b√©n√©fices
  - [ ] Int√©gration dans routines
- [ ] **Ressources P√©dagogiques** :
  - [ ] Fiches explicatives
  - [ ] Vid√©os de d√©monstration
  - [ ] Formation √† l'auto-r√©gulation

### üîí S√©curit√© et Confidentialit√©
- [ ] **Chiffrement Local** : Protection des donn√©es sensibles
- [ ] **Mode Invit√©** : Utilisation sans sauvegarde
- [ ] **Contr√¥le Parental** : Limitations d'usage
- [ ] **Audit de S√©curit√©** : V√©rification des vuln√©rabilit√©s

---

## üìã Backlog Prioris√©

### üî• Priorit√© Haute (Prochaine Version)
1. **PWA Implementation** - Installation et mode hors ligne
2. **Nouveaux Sons Nature** - Expansion biblioth√®que audio
3. **Export/Import Profils** - Partage entre appareils
4. **Mode Guid√©** - S√©ances dirig√©es

### üî∂ Priorit√© Moyenne
1. **Visuels Additionnels** - Aquarium et jardin zen
2. **Th√®mes Saisonniers** - Adaptation temporelle
3. **Statistiques d'Usage** - Suivi bien-√™tre
4. **Optimisations Performance** - Web Workers

### üîµ Priorit√© Basse
1. **Applications Natives** - Mobile et desktop
2. **IA Adaptative** - Apprentissage pr√©f√©rences
3. **Fonctionnalit√©s Sociales** - Communaut√©
4. **Contr√¥les Biom√©triques** - Int√©gration capteurs

---

## üêõ Bugs Connus

### üîß √Ä Corriger
- [ ] **Audio** : L√©ger d√©lai au premier clic sur mobile (n√©cessite interaction utilisateur)
- [ ] **Canvas** : Redimensionnement parfois impr√©cis lors de rotation d'√©cran
- [ ] **Timer** : Animation du cercle peut se d√©synchroniser sur onglets inactifs

### ‚úÖ Corrig√©s
- ‚úÖ **Navigation** : Sections ne s'affichaient pas correctement sur Safari
- ‚úÖ **Th√®me** : Variables CSS non support√©es sur anciens navigateurs
- ‚úÖ **LocalStorage** : Gestion d'erreur si quota d√©pass√©

---

## üìä M√©triques de D√©veloppement

### üìà Statistiques Actuelles
- **Lignes de Code** : ~2000 lignes
- **Fichiers** : 4 fichiers principaux
- **Taille** : ~150KB total
- **D√©pendances** : 1 (Tone.js)
- **Compatibilit√©** : 95% navigateurs modernes

### üéØ Objectifs Techniques
- **Performance** : <3s temps de chargement
- **Accessibilit√©** : Score WCAG AA
- **Mobile** : 100% fonctionnalit√©s disponibles
- **Hors ligne** : Fonctionnement complet sans r√©seau

---

*Derni√®re mise √† jour : 19 mai 2025*